## 一般原则

### 明确表达您的指令

AI 模型对清晰、明确的指令反应良好。具体说明您期望的输出可以帮助提高结果质量。希望获得之前Claude模型"超越期望"行为的客户，可能需要在使用Claude 4时更明确地请求这些行为。

<Accordion title="示例：创建分析仪表板">
  **效果较差：**

  ```text
  创建一个分析仪表板
  ```

  **效果更好：**

  ```text
  创建一个分析仪表板。包含尽可能多的相关功能和交互。超越基础功能，创建一个功能齐全的实现方案。
  ```
</Accordion>

### 添加上下文以提高性能

提供指令背后的上下文或动机，例如向Claude解释为什么这种行为很重要，可以帮助Claude 4更好地理解您的目标并提供更有针对性的回答。

<Accordion title="示例：格式偏好">
  **效果较差：**

  ```text
  绝不使用省略号
  ```

  **效果更好：**

  ```text
  您的回答将由文本转语音引擎朗读，所以请不要使用省略号，因为文本转语音引擎不知道如何发音。
  ```
</Accordion>

Claude足够聪明，能够从解释中进行泛化。

### 注意示例和细节

Claude 4模型在遵循指令时会注意细节和示例。确保您的示例与您想要鼓励的行为一致，并最小化您想要避免的行为。

## 特定情况的指导

### 控制回答的格式

我们发现以下几种方法在引导Claude 4模型的输出格式方面特别有效：

1. **告诉Claude应该做什么，而不是不应该做什么**

   * 不要用："不要在回答中使用markdown"
   * 尝试用："您的回答应该由流畅连贯的散文段落组成。"

2. **使用XML格式指示符**

   * 尝试："在\<smoothly\_flowing\_prose\_paragraphs>标签中编写回答的散文部分。"

3. **使您的提示风格与期望的输出相匹配**

   您在提示中使用的格式风格可能会影响Claude的回答风格。如果您仍然遇到输出格式的可控性问题，我们建议尽可能使您的提示风格与您期望的输出风格相匹配。例如，从提示中删除markdown可以减少输出中markdown的数量。

### 利用思考和交错思考能力

Claude 4提供思考能力，这对于涉及工具使用后反思或复杂多步推理的任务特别有帮助。您可以引导其初始或交错思考，以获得更好的结果。

```text 示例提示
在收到工具结果后，仔细反思其质量并确定最佳下一步行动，然后再继续。使用您的思考来基于这些新信息进行规划和迭代，然后采取最佳的下一步行动。
```

<Info>
  有关思考能力的更多信息，请参阅[扩展思考](/zh-CN/docs/build-with-claude/extended-thinking)。
</Info>

### 优化并行工具调用

Claude 4模型在并行工具执行方面表现出色。即使没有任何提示，它们在使用并行工具调用方面也有很高的成功率，但一些小的提示可以将这种行为的成功率提高到约100%。我们发现以下提示最有效：

```text 代理的示例提示
为了最大效率，当您需要执行多个独立操作时，同时调用所有相关工具，而不是按顺序调用。
```

### 减少代理编码中的文件创建

Claude 4模型有时可能会创建新文件用于测试和迭代，特别是在处理代码时。这种方法允许Claude使用文件，尤其是Python脚本，作为"临时草稿"，然后再保存最终输出。使用临时文件可以改善代理编码用例的结果。

如果您希望最小化新文件的创建，可以指示Claude在完成后进行清理：

```text 示例提示
如果您创建了任何临时新文件、脚本或用于迭代的辅助文件，请在任务结束时通过删除这些文件来进行清理。
```

### 增强视觉和前端代码生成

对于前端代码生成，您可以通过提供明确的鼓励来引导Claude 4模型创建复杂、详细和交互式的设计：

```text 示例提示
不要有所保留。全力以赴。
```

您还可以通过提供额外的修饰语和关注点的详细信息来提高Claude在特定领域的前端性能：

* "包含尽可能多的相关功能和交互"
* "添加周到的细节，如悬停状态、过渡和微交互"
* "创建一个展示网页开发能力的令人印象深刻的演示"
* "应用设计原则：层次结构、对比、平衡和动态"

## 迁移考虑事项

从Sonnet 3.7迁移到Claude 4时：

1. **明确说明期望的行为**：考虑准确描述您希望在输出中看到的内容。

2. **使用修饰语框定您的指令**：添加鼓励Claude提高输出质量和细节的修饰语可以帮助更好地塑造Claude的表现。例如，不要用"创建一个分析仪表板"，而是使用"创建一个分析仪表板。包含尽可能多的相关功能和交互。超越基础功能，创建一个功能齐全的实现方案。"

3. **明确请求特定功能**：需要时应明确请求动画和交互元素。
